## Layered Architecture

1. Presentation Layer : ì‚¬ìš©ìì˜ ì…ì¶œë ¥ ë‹´ë‹¹
2. Business Layer : ë¡œì§ ì²˜ë¦¬
3. Persistence Layer : ë°ì´í„°ë² ì´ìŠ¤ ì²˜ë¦¬ ì „ë‹´(ex. JDBC)
4. Database Layer : ì‹¤ì œ DB ì§€ì¹­

## Model

- Data Model â†’ VO
- Service Model â†’ ì¡°ì§ì²˜ë¦¬í•˜ëŠ” ê°ì²´

## View

- ì…ì¶œë ¥ì„ ë‹´ë‹¹(ì¡°ì§ì²˜ë¦¬ X)

## Controller

- ì¤‘ê°„ ë§¤ê°œì²´ ì—°ê²°
- viewì™€ service ì—°ê²°

<aside>
ğŸ’¡

DAO : DB Access ì²˜ë¦¬ë§Œ í—ˆìš©

</aside>

---

# DAO

- step1 : ì¼ë°˜ì ì¸ DAO
    - ì¤‘ë³µ ì½”ë“œ ì¡´ì¬
- step2 : ì¤‘ë³µëœ ì½”ë“œë¥¼ ë©”ì†Œë“œë¡œ ë¶„ë¦¬ â‡’ ìœ ì‹œë³´ìˆ˜ì„± í–¥ìƒ
- step3 : ì¶”ìƒ ë©”ì†Œë“œì™€ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì„œ ì œê³µí•œë‹¤.
    - ê°€ì ¸ê°€ì„œ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒì„ ìƒì†í•´ì„œ ì‚¬ìš©
    - ìƒìœ„ í´ë˜ìŠ¤(`UserDAO` )ì—ì„œ ê¸°ë³¸ì ì¸ ë¡œì§ì€ êµ¬í˜„í•˜ê³  í•˜ìœ„ í´ë˜ìŠ¤(`KUserDAO` )ì—ì„œ êµ¬ì²´ì ì¸ êµ¬í˜„ ë‚´ìš©ì„ ë³€ê²½í•´ì„œ êµ¬í˜„**(Template Method Pattern)**
    - ê·¸ëŸ¬ë‚˜ ë‹¨ì¼ìƒì†ë¬¸ì œ ë•Œë¬¸ì— ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ë„ ìˆì–´ìš”
- ìƒì†ì„ ë°°ì œí•˜ê³  ì¬í™œìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•?
    - UserDAOì˜ ë³€í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì€ ë³„ë„ì˜ codeë¡œ ë¶„ë¦¬

## MVC Patternì£¼ì˜í•  ì 

- Service Layerì€ ë°˜ë“œì‹œ transactionê´€ë¦¬ë¥¼ í•´ì£¼ì–´ì•¼ í•¨.
- DAO layerì€ ë‹¨ìœ„ ì¿¼ë¦¬ë¥¼ ê´€ë¦¬í•´ì•¼ í•¨

```java
    @Override
    public ObservableList<BookVO> searchBooks(String keyword) throws SQLException, ClassNotFoundException {
        Connection con = ConnectionManager.getConnection();
        // íŠ¸ëœì­ì…˜ ì„¤ì •
        con.setAutoCommit(false);

        ObservableList<BookVO> books = bookDAO.search(keyword);

        if (books == null) {
            con.rollback();
        } else {
            con.commit();
        }

        con.close();
        // íŠ¸ëœì­ì…˜ ì„¤ì • êµ¬ê°„ ë
        return books;
    }
```
