```java
package first;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;

public class TransactionTest {
    public static void main(String[] args) {
        // 기본적인 JDBC 코드 생성
        Connection conn = null;

        try {
            // driver loading
            Class.forName("oracle.jdbc.driver.OracleDriver");

            String JDBC_URL = "jdbc:oracle:thin:@localhost:1521:xe";
            String ID = "C##DEV";
            String PW = "1384";
            Connection con = DriverManager.getConnection(JDBC_URL, ID, PW);
            // 기본적으로 auto commit 모드로 connection이 수행된다.
            con.setAutoCommit(false); // 자동 모드 종료
            // 명시적으로 con.commit() 혹은 con.rollback()이 호출되면 transaction이 종료
            // 추가적으로 만약 해당 구문이 나오지 않고 connection이 정상종료되면 con.commit()으로 간주

            String sql = "Insert into memberTbl values(?,?)";
            PreparedStatement pstmt = con.prepareStatement(sql);
            pstmt.setString(1, "2");
            pstmt.setString(2, "신사임당");

            int result = pstmt.executeUpdate(); // return값은 영향받은 row의 수

            if(result == 1) {
                System.out.println("잘 처리되었음");
            } else {
                System.out.println("잘 처리되지 않았음");
            }

            // 지금까지 했던 transaction 반영 후 종료
            con.commit();

            // 지금까지 했던 작업 모두 rollback
            // con.rollback();

            pstmt.close();
            con.close();

        } catch (Exception e) {
            e.printStackTrace();
        }

    }
}

```
